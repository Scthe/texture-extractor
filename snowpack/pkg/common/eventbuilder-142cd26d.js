import{g as x,_ as N,a as g,i as w,e as C,n as D,b as p,S as F,c as I,d as O,f as P,h as S,j as z,k as R}from"./hub-e13ed0b5.js";var o;(function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"})(o||(o={})),function(e){function a(n){switch(n){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}e.fromString=a}(o||(o={}));function m(e){for(var a=[],n=1;n<arguments.length;n++)a[n-1]=arguments[n];var t=x();if(t&&t[e])return t[e].apply(t,N(a));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function U(e,a){var n;try{throw new Error("Sentry syntheticException")}catch(t){n=t}return m("captureException",e,{captureContext:a,originalException:e,syntheticException:n})}function $(e){return m("captureEvent",e)}function W(e){m("addBreadcrumb",e)}function K(e){m("withScope",e)}var f="?",L=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,A=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,B=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,H=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,V=/\((\S*)(?::(\d+))(?::(\d+))\)/,q=/Minified React error #\d+;/i;function v(e){var a=null,n=0;e&&(typeof e.framesToPop=="number"?n=e.framesToPop:q.test(e.message)&&(n=1));try{if(a=J(e),a)return _(a,n)}catch(t){}try{if(a=G(e),a)return _(a,n)}catch(t){}return{message:h(e),name:e&&e.name,stack:[],failed:!0}}function G(e){if(!e||!e.stack)return null;for(var a=[],n=e.stack.split(`
`),t,c,r,s,i=0;i<n.length;++i){if(r=L.exec(n[i])){var u=r[2]&&r[2].indexOf("native")===0;t=r[2]&&r[2].indexOf("eval")===0,t&&(c=V.exec(r[2]))&&(r[2]=c[1],r[3]=c[2],r[4]=c[3]);var d=r[2]&&r[2].indexOf("address at ")===0?r[2].substr("address at ".length):r[2],l=r[1]||f,E=l.indexOf("safari-extension")!==-1,j=l.indexOf("safari-web-extension")!==-1;(E||j)&&(l=l.indexOf("@")!==-1?l.split("@")[0]:f,d=E?"safari-extension:"+d:"safari-web-extension:"+d),s={url:d,func:l,args:u?[r[2]]:[],line:r[3]?+r[3]:null,column:r[4]?+r[4]:null}}else if(r=B.exec(n[i]))s={url:r[2],func:r[1]||f,args:[],line:+r[3],column:r[4]?+r[4]:null};else if(r=A.exec(n[i]))t=r[3]&&r[3].indexOf(" > eval")>-1,t&&(c=H.exec(r[3]))?(r[1]=r[1]||"eval",r[3]=c[1],r[4]=c[2],r[5]=""):i===0&&!r[5]&&e.columnNumber!==void 0&&(a[0].column=e.columnNumber+1),s={url:r[3],func:r[1]||f,args:r[2]?r[2].split(","):[],line:r[4]?+r[4]:null,column:r[5]?+r[5]:null};else continue;!s.func&&s.line&&(s.func=f),a.push(s)}return a.length?{message:h(e),name:e.name,stack:a}:null}function J(e){if(!e||!e.stacktrace)return null;for(var a=e.stacktrace,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,t=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,c=a.split(`
`),r=[],s,i=0;i<c.length;i+=2){var u=null;(s=n.exec(c[i]))?u={url:s[2],func:s[3],args:[],line:+s[1],column:null}:(s=t.exec(c[i]))&&(u={url:s[6],func:s[3]||s[4],args:s[5]?s[5].split(","):[],line:+s[1],column:+s[2]}),u&&(!u.func&&u.line&&(u.func=f),r.push(u))}return r.length?{message:h(e),name:e.name,stack:r}:null}function _(e,a){try{return g(g({},e),{stack:e.stack.slice(a)})}catch(n){return e}}function h(e){var a=e&&e.message;return a?a.error&&typeof a.error.message=="string"?a.error.message:a:"No error message"}var Q=50;function M(e){var a=b(e.stack),n={type:e.name,value:e.message};return a&&a.length&&(n.stacktrace={frames:a}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function X(e,a,n){var t={exception:{values:[{type:w(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+C(e)}]},extra:{__serialized__:D(e)}};if(a){var c=v(a),r=b(c.stack);t.stacktrace={frames:r}}return t}function y(e){var a=M(e);return{exception:{values:[a]}}}function b(e){if(!e||!e.length)return[];var a=e,n=a[0].func||"",t=a[a.length-1].func||"";return(n.indexOf("captureMessage")!==-1||n.indexOf("captureException")!==-1)&&(a=a.slice(1)),t.indexOf("sentryWrapped")!==-1&&(a=a.slice(0,-1)),a.slice(0,Q).map(function(c){return{colno:c.column===null?void 0:c.column,filename:c.url||a[0].url,function:c.func||"?",in_app:!0,lineno:c.line===null?void 0:c.line}}).reverse()}function Y(e,a,n){var t=n&&n.syntheticException||void 0,c=T(a,t,{attachStacktrace:e.attachStacktrace});return p(c,{handled:!0,type:"generic"}),c.level=o.Error,n&&n.event_id&&(c.event_id=n.event_id),F.resolve(c)}function Z(e,a,n,t){n===void 0&&(n=o.Info);var c=t&&t.syntheticException||void 0,r=k(a,c,{attachStacktrace:e.attachStacktrace});return r.level=n,t&&t.event_id&&(r.event_id=t.event_id),F.resolve(r)}function T(e,a,n){n===void 0&&(n={});var t;if(I(e)&&e.error){var c=e;return e=c.error,t=y(v(e)),t}if(O(e)||P(e)){var r=e,s=r.name||(O(r)?"DOMError":"DOMException"),i=r.message?s+": "+r.message:s;return t=k(i,a,n),S(t,i),"code"in r&&(t.tags=g(g({},t.tags),{"DOMException.code":""+r.code})),t}if(z(e))return t=y(v(e)),t;if(R(e)||w(e)){var u=e;return t=X(u,a,n.rejection),p(t,{synthetic:!0}),t}return t=k(e,a,n),S(t,""+e,void 0),p(t,{synthetic:!0}),t}function k(e,a,n){n===void 0&&(n={});var t={message:e};if(n.attachStacktrace&&a){var c=v(a),r=b(c.stack);t.stacktrace={frames:r}}return t}export{o as S,U as a,Z as b,$ as c,T as d,Y as e,v as f,M as g,W as h,K as w};
