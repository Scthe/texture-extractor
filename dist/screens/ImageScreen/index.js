import{h as e}from"../../../snowpack/pkg/preact.js";import{useRef as h}from"../../../snowpack/pkg/preact/hooks.js";import{ZoomNumber as l}from"../../components/ZoomNumber.js";import{ScreenName as f}from"../../components/ScreenName.js";import{SettingsOpenButton as S}from"../../components/SettingsOpenButton.js";import{usePinchScaleChange as j}from"../../hooks/usePinchScaleChange.js";import{useBoolState as k}from"../../hooks/useBoolState.js";import{useSettingsOpenState as d}from"../../hooks/useSettingsOpenState.js";import{useAutoZoomPinchZoom as Z}from"../../hooks/useAutoZoomPinchZoom.js";import{useAppStatePartial as I}from"../../state/AppState.js";import*as t from"../../style.js";import{ImageSettings as P}from"./ImageSettings.js";import{ImageWorkspace as O}from"./ImageWorkspace.js";const b=["Use Texture Extractor to map parts of input image (right side of the screen) to rectangles (left side of the screen).","Each selection area is defined by 4 corners. Drag the corners to change shape of current selection area. You can extract many parts of an image at the same time using multiple selections. Use settings panel in bottom right corner to manage selections."];export const ImageScreen=({onDragEnd:r,onDragging:i})=>{const{image:o,borderSafeSpace:p}=I("image","borderSafeSpace"),[c,s]=d(),[n,g]=j(),{value:a,setValue:u}=k(!0),m=h();return Z(o,m),e("div",{class:t.appColumnStyle},e("pinch-zoom",{ref:m,class:t.pinchZoomStyle,onChange:g},o!=null?e(O,{borderSafeSpace:p,imageData:o,isDimed:a,zoom:n,onDragging:i,onDragEnd:r}):null),e(l,{zoom:n}),e(f,{theme:t.ThemePurple,name:"Input Image",helpText:b}),e(S,{setSettingsOpen:s}),e(P,{isOpen:c,setSettingsOpen:s,isDimed:a,setIsDimed:u}))};
